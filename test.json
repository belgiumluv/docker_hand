{
  "outbounds": [
    {
      "type": "selector",
      "tag": "Select",
      "outbounds": [
        "Auto",
        "VLESS Reality"
      ],
      "default": "Auto"
    },
    {
      "type": "urltest",
      "tag": "Auto",
      "outbounds": [
        "VLESS Reality"
      ],
      "url": "https://www.gstatic.com/generate_204",
      "interval": "10m",
      "tolerance": 200
    },
    {
      "tag": "direct",
      "type": "direct"
    },
    {
      "tag": "bypass",
      "type": "direct"
    },
    {
      "tag": "block",
      "type": "block"
    },
    {
      "tag": "VLESS Reality",
      "type": "vless",
      "server": "test-node-get-cert.dedyn.io",
      "server_port": 443,
      "uuid": "446dd604-3f86-41eb-8fc1-772234e0c53a",
      "flow": "xtls-rprx-vision",
      "packet_encoding": "xudp",
      "tls": {
        "enabled": true,
        "server_name": "www.ozon.ru",
        "alpn": [
          "http/1.1"
        ],
        "utls": {
          "enabled": true,
          "fingerprint": "chrome"
        },
        "reality": {
          "enabled": true,
          "public_key": "edRSYfxjnFDDFjDiXwx8RBq2dc9LAmAH3BT0YjRLrCk",
          "short_id": "fe336cd47cd186"
        }
      }
    }
  ],
  "route": {
    "auto_detect_interface": true,
    "override_android_vpn": true,
    "final": "Select",
    "rule_set": [],
    "rules": [
      {
        "inbound": [
          "tun-in",
          "mixed-in"
        ],
        "action": "route-options",
        "tls_fragment": true,
        "tls_fragment_size": "50-200",
        "tls_fragment_timeout": "500ms",
        "tls_record_fragment": false,
        "tls_record_fragment_timeout": "500ms",
        "tls_fragment_fallback_delay": "400ms"
      },
      {
        "inbound": [
          "tun-in",
          "mixed-in"
        ],
        "port": [
          53
        ],
        "action": "hijack-dns"
      },
      {
        "inbound": [
          "dns-in"
        ],
        "action": "hijack-dns"
      },
      {
        "inbound": [
          "tun-in",
          "mixed-in"
        ],
        "action": "sniff",
        "timeout": "1s"
      },
      {
        "domain_suffix": [],
        "outbound": "Select"
      },
      {
        "protocol": "quic",
        "port": [
          443
        ],
        "action": "reject"
      },
      {
        "ip_cidr": [
          "224.0.0.0/3",
          "ff00::/8"
        ],
        "outbound": "block",
        "source_ip_cidr": [
          "224.0.0.0/3",
          "ff00::/8"
        ]
      }
    ]
  },
  "experimental": {
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui_download_url": "https://github.com/MetaCubeX/Yacd-meta/archive/gh-pages.zip"
    },
    "cache_file": {
      "enabled": true,
      "path": "cache.db",
      "cache_id": "22244c6d-8e9f-4d42-b21c-4792b65f4238",
      "store_fakeip": true
    }
  },
  "dns": {
    "servers": [
      {
        "address": "https://dns.yandex.ru/dns-query",
        "tag": "dns-yandex-https-1",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "udp://77.88.8.8:53",
        "tag": "dns-yandex-udp",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tcp://77.88.8.8:53",
        "tag": "dns-yandex-tcp",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tls://77.88.8.8",
        "server_name": "dns.yandex.ru",
        "tag": "dns-yandex-tls",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "https://dns.google/dns-query",
        "tag": "dns-google-doh",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "https://cloudflare-dns.com/dns-query",
        "tag": "dns-cf-doh",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tls://cloudflare-dns.com",
        "strategy": "ipv4_only",
        "tag": "dns-cf-dot",
        "detour": "Select",
        "address_resolver": "dns-local"
      },
      {
        "address": "tls://dns.google",
        "strategy": "ipv4_only",
        "tag": "dns-google-dot",
        "detour": "Select",
        "address_resolver": "dns-local"
      },
      {
        "address": "tcp://cloudflare-dns.com",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only",
        "tag": "dns-cf-tcp",
        "detour": "Select"
      },
      {
        "address": "tcp://dns.google",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only",
        "tag": "dns-google-tcp",
        "detour": "Select"
      },
      {
        "address": "udp://cloudflare-dns.com",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only",
        "tag": "dns-cf-udp",
        "detour": "Select"
      },
      {
        "address": "udp://dns.google",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only",
        "tag": "dns-google-udp",
        "detour": "Select"
      },
      {
        "address": "https://doh.opendns.com/dns-query",
        "tag": "dns-opendns-doh",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tls://doh.opendns.com",
        "tag": "dns-opendns-dot",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tcp://208.67.222.222:53",
        "tag": "dns-opendns-tcp",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "udp://208.67.222.222:53",
        "tag": "dns-opendns-udp",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "https://dns.quad9.net/dns-query",
        "tag": "dns-quad9-doh",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tls://dns.quad9.net",
        "tag": "dns-quad9-dot",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tcp://9.9.9.9:53",
        "tag": "dns-quad9-tcp",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "udp://9.9.9.9:53",
        "tag": "dns-quad9-udp",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "tcp://84.200.69.80:53",
        "tag": "dns-dnswatch-tcp-1",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "udp://84.200.69.80:53",
        "tag": "dns-dnswatch-udp-1",
        "detour": "Select",
        "address_resolver": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "8.8.8.8",
        "detour": "direct",
        "tag": "dns-local",
        "strategy": "ipv4_only"
      },
      {
        "address": "rcode://success",
        "tag": "dns-block"
      }
    ],
    "rules": [
      {
        "domain": [
          "github.com",
          "githubusercontent.com",
          "raw.githubusercontent.com",
          "1.1.1.1",
          "www.habbo.com",
          "www.ozon.ru",
          "test-node-get-cert.dedyn.io",
          "www.yandex.ru",
          "www.vk.com"
        ],
        "server": "dns-yandex-https-1"
      },
      {
        "outbound": "direct",
        "server": "dns-local"
      }
    ],
    "final": "dns-yandex-https-1",
    "reverse_mapping": true,
    "strategy": "ipv4_only",
    "independent_cache": true
  },
  "inbounds": [
    {
      "listen": "127.0.0.1",
      "listen_port": 6450,
      "override_address": "8.8.8.8",
      "override_port": 53,
      "tag": "dns-in",
      "type": "direct"
    },
    {
      "type": "tun",
      "tag": "tun-in",
      "interface_name": "tun0",
      "address": [
        "172.19.0.2/30"
      ],
      "mtu": 1400,
      "auto_route": true,
      "strict_route": true,
      "stack": "gvisor",
      "endpoint_independent_nat": true
    },
    {
      "domain_strategy": "prefer_ipv4",
      "listen": "127.0.0.1",
      "listen_port": 2334,
      "sniff": true,
      "sniff_override_destination": false,
      "tag": "mixed-in",
      "type": "mixed"
    }
  ]
}